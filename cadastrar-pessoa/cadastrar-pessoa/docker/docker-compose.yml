version: '3'
name: cadastrarpessoa
services:
  postgres:
    image: postgres:latest
    container_name: postgres
    #restart: always
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=postgres
      - POSTGRES_DB=people
    ports:
      - "5432:5432"

#  cadastrarpessoa:
#      image: primeiraimage:latest
#      container_name: cadastrarpessoa
#      environment:
#        - spring.datasource.url=jdbc:postgresql://postgres:5432/people
#  #      - http:://google.com.br:80
#  #      - protocol://host:port/path?params=???
#      ports:
#        - "8080:8080"
#      depends_on:
#        - postgres

# Naõ descomentar
#  pessoacadastrar:
#      image: segundaimage:latest
#      container_name: pessoacadastrar
#      environment:
#        - spring.datasource.url=jdbc:postgresql://postgres:5432/people
#      ports:
#        - "8081:8080"
#      depends_on:
#        - postgres

#- Fiz as configurações corretas do controller e repositorys
#  - Eu subi aplicação usando o intellije corretamente na porta 8080
#  - No postmam estava errado e no docker compose, pois subirs uma imagem antiga na porta 8081
#  - No postmam, estava mandando os atributos com o nome do parametro errado: size no lugar de sizeItem
